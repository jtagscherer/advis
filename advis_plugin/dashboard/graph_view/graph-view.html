<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../../tf-backend/tf-backend.html">
<link rel="import" href="../../paper-icon-button/paper-icon-button.html">

<link rel="import" href="../../color-legend/color-legend.html">
<link rel="import" href="../../advis-tf-graph-board/advis-tf-graph-board.html">
<link rel="import" href="../../advis-tf-graph-controls/advis-tf-graph-controls.html">
<link rel="import" href="../../advis-tf-graph-loader/advis-tf-graph-loader.html">
<link rel="import" href="../../advis-tf-graph-common/advis-tf-graph-common.html">

<link rel="import" href="../../dialogs/graph-settings-dialog/graph-settings-dialog.html">

<link rel="import" href="../../libraries/chroma/chroma.html">

<dom-module id="graph-view">
	<template>
		<div class="container">
		  <div id="all"
				class$=[[_getContainerClass(_graphAvailable)]]>
		    <div id="side">
		      <advis-tf-graph-controls
	          color-by-params="[[colorByParams]]"
	          stats="[[stats]]"
	          color-by="{{colorBy}}"
	          render-hierarchy="[[_renderHierarchy]]">
					</advis-tf-graph-controls>
		      <advis-tf-graph-loader id="loader"
	          out-graph-hierarchy="{{graphHierarchy}}"
	          out-graph="{{graph}}"
	          out-stats="{{stats}}"
	          progress="{{_progress}}">
					</advis-tf-graph-loader>
		    </div>
		    <div id="main">
		      <advis-tf-graph-board id="graphboard"
	          graph-hierarchy="[[graphHierarchy]]"
	          graph="[[graph]]"
	          stats="[[stats]]"
	          progress="[[_progress]]"
	          color-by="[[colorBy]]"
	          color-by-params="{{colorByParams}}"
						node-colors="[[nodeColors]]"
	          render-hierarchy="{{_renderHierarchy}}"
						display-node-information="[[displayNodeInformation]]"
						display-minimap="[[displayMinimap]]"
						selected-node="{{selectedNode}}">
					</advis-tf-graph-board>
		    </div>
		  </div>
			
			<color-legend></color-legend>
			
			<paper-icon-button id="settings-button"
				icon="settings"
				on-tap="openSettingsDialog">
			</paper-icon-button>
		</div>
		
		<graph-settings-dialog></graph-settings-dialog>
		
		<link rel="stylesheet" type="text/css" href="graph-view.css">
	</template>
	
	<script src="graph-view.js"></script>
</dom-module>
