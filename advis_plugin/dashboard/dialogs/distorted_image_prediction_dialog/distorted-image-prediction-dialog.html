<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../../tf-backend/tf-backend.html">

<link rel="import" href="../../paper-dialog/paper-dialog.html">
<link rel="import" href="../../iron-list/iron-list.html">
<link rel="import" href="../../iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../../paper-progress/paper-progress.html">

<link rel="import" href="../../constants/constants.html">
<link rel="import" href="../../dialog-header/dialog-header.html">
<link rel="import" href="../../dialog-behavior/dialog-behavior.html">
<link rel="import" href="../../distorted-image-item/distorted-image-item.html">

<!--
	When opened, this module displays a dialog with a grid of distorted versions 
	of a single input image and their prediction certainty.
-->
<dom-module id="distorted-image-prediction-dialog">
	<template>
		<paper-dialog with-backdrop>
			<dialog-header event-id="distorted-image-prediction-dialog">
				<div class="header-items">
					<h2>Distorted Images</h2>
				</div>
			</dialog-header>
			<div id="content">
				<template is="dom-if" if="[[_loadingImages]]">
					<div id="progress-container">
						<div id="progress-content">
							<p class="single-line title">Loading predictionsâ€¦</p>
							<paper-progress
								min="0" max="100"
								value=[[_loadingProgress]]>
							</paper-progress>
						</div>
					</div>
				</template>
				<template is="dom-if" if="[[!_loadingImages]]">
					<iron-list items="[[_images]]" grid>
						<template>
							<distorted-image-item
								image-url=[[item.url]]
								certainty=[[item.certainty]]
								data-image-index$=[[index]]>
							</distorted-image-item>
						</template>
					</iron-list>
				</template>
			</div>
		</paper-dialog>
		
		<link rel="stylesheet" type="text/css" href="distorted-image-prediction-dialog.css">
	</template>

	<script src="distorted-image-prediction-dialog.js"></script>
</dom-module>
